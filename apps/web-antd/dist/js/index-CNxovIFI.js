import{I as b,i as Ie,t as ge,a as ze,r as te,f as _e,b as $e}from"./Password-BTLJaSmc.js";import{a as ie,b as P,j as Z,_ as $,a3 as se,X as Ee,o as ue,P as pe,y as Re,l as H,t as Pe,M as Te,a4 as q,w as Be,E as Fe}from"./bootstrap-8TZEei42.js";import{F as J,u as Oe}from"./FormItemContext-rLUZDVS8.js";import{u as he}from"./index-hbqzz9bt.js";import{a4 as X,J as k,x as E,a5 as M,P as L,az as ce,ao as xe,Y as re,q as be,n as fe}from"../jse/index-index-Bfp9fVLj.js";import{S as Ve}from"./SearchOutlined-DwCm3gjA.js";import{i as je}from"./isPlainObject-C6CdBuZO.js";import{a as ye,g as Se}from"./statusUtils-Du58bhOV.js";import{R as Me}from"./index-D27JxLQ4.js";import{B as ke}from"./BaseInput-BGap_2jZ.js";import"./EyeOutlined-Dd3Pi4Q1.js";import"./ResizeObserver.es-CDE7jhPe.js";const De=X({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(e,v){let{slots:n,attrs:a}=v;const{prefixCls:u,direction:m,getPrefixCls:g}=ie("input-group",e),l=J.useInject();J.useProvide(l,{isFormItemInput:!1});const f=k(()=>g("input")),[s,p]=he(f),c=k(()=>{const o=u.value;return{[`${o}`]:!0,[p.value]:!0,[`${o}-lg`]:e.size==="large",[`${o}-sm`]:e.size==="small",[`${o}-compact`]:e.compact,[`${o}-rtl`]:m.value==="rtl"}});return()=>{var o;return s(E("span",P(P({},a),{},{class:Z(c.value,a.class)}),[(o=n.default)===null||o===void 0?void 0:o.call(n)]))}}});var Ne=function(e,v){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&v.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(e);u<a.length;u++)v.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(e,a[u])&&(n[a[u]]=e[a[u]]);return n};const Ge=X({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:$($({},Ie()),{inputPrefixCls:String,enterButton:pe.any,onSearch:{type:Function}}),setup(e,v){let{slots:n,attrs:a,expose:u,emit:m}=v;const g=M(),l=M(!1);u({focus:()=>{var r;(r=g.value)===null||r===void 0||r.focus()},blur:()=>{var r;(r=g.value)===null||r===void 0||r.blur()}});const p=r=>{m("update:value",r.target.value),r&&r.target&&r.type==="click"&&m("search",r.target.value,r),m("change",r)},c=r=>{var d;document.activeElement===((d=g.value)===null||d===void 0?void 0:d.input)&&r.preventDefault()},o=r=>{var d,A;m("search",(A=(d=g.value)===null||d===void 0?void 0:d.input)===null||A===void 0?void 0:A.stateValue,r)},x=r=>{l.value||e.loading||o(r)},y=r=>{l.value=!0,m("compositionstart",r)},T=r=>{l.value=!1,m("compositionend",r)},{prefixCls:C,getPrefixCls:F,direction:w,size:S}=ie("input-search",e),V=k(()=>F("input",e.inputPrefixCls));return()=>{var r,d,A,O;const{disabled:Y,loading:U,addonAfter:D=(r=n.addonAfter)===null||r===void 0?void 0:r.call(n),suffix:R=(d=n.suffix)===null||d===void 0?void 0:d.call(n)}=e,Q=Ne(e,["disabled","loading","addonAfter","suffix"]);let{enterButton:I=(O=(A=n.enterButton)===null||A===void 0?void 0:A.call(n))!==null&&O!==void 0?O:!1}=e;I=I||I==="";const N=typeof I=="boolean"?E(Ve,null,null):null,K=`${C.value}-button`,j=Array.isArray(I)?I[0]:I;let G;const t=j.type&&je(j.type)&&j.type.__ANT_BUTTON;if(t||j.tagName==="button")G=se(j,$({onMousedown:c,onClick:o,key:"enterButton"},t?{class:K,size:S.value}:{}),!1);else{const h=N&&!I;G=E(Ee,{class:K,type:I?"primary":void 0,size:S.value,disabled:Y,key:"enterButton",onMousedown:c,onClick:o,loading:U,icon:h?N:null},{default:()=>[h?null:N||I]})}D&&(G=[G,D]);const i=Z(C.value,{[`${C.value}-rtl`]:w.value==="rtl",[`${C.value}-${S.value}`]:!!S.value,[`${C.value}-with-button`]:!!I},a.class);return E(b,P(P(P({ref:g},ue(Q,["onUpdate:value","onSearch","enterButton"])),a),{},{onPressEnter:x,onCompositionstart:y,onCompositionend:T,size:S.value,prefixCls:V.value,addonAfter:G,suffix:R,onChange:p,class:i,disabled:Y}),n)}}}),ve=e=>e!=null&&(Array.isArray(e)?Re(e).length:!0);function He(e){return ve(e.addonBefore)||ve(e.addonAfter)}const Le=["text","input"],Ye=X({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:pe.oneOf(Pe("text","input")),value:H(),defaultValue:H(),allowClear:{type:Boolean,default:void 0},element:H(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:H(),prefix:H(),addonBefore:H(),addonAfter:H(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(e,v){let{slots:n,attrs:a}=v;const u=J.useInject(),m=l=>{const{value:f,disabled:s,readonly:p,handleReset:c,suffix:o=n.suffix}=e,x=!s&&!p&&f,y=`${l}-clear-icon`;return E(Te,{onClick:c,onMousedown:T=>T.preventDefault(),class:Z({[`${y}-hidden`]:!x,[`${y}-has-suffix`]:!!o},y),role:"button"},null)},g=(l,f)=>{const{value:s,allowClear:p,direction:c,bordered:o,hidden:x,status:y,addonAfter:T=n.addonAfter,addonBefore:C=n.addonBefore,hashId:F}=e,{status:w,hasFeedback:S}=u;if(!p)return se(f,{value:s,disabled:e.disabled});const V=Z(`${l}-affix-wrapper`,`${l}-affix-wrapper-textarea-with-clear-btn`,ye(`${l}-affix-wrapper`,Se(w,y),S),{[`${l}-affix-wrapper-rtl`]:c==="rtl",[`${l}-affix-wrapper-borderless`]:!o,[`${a.class}`]:!He({addonAfter:T,addonBefore:C})&&a.class},F);return E("span",{class:V,style:a.style,hidden:x},[se(f,{style:null,value:s,disabled:e.disabled}),m(l)])};return()=>{var l;const{prefixCls:f,inputType:s,element:p=(l=n.element)===null||l===void 0?void 0:l.call(n)}=e;return s===Le[0]?g(f,p):null}}}),Ue=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Ze=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ne={};let _;function Xe(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(v&&ne[n])return ne[n];const a=window.getComputedStyle(e),u=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),m=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),g=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),f={sizingStyle:Ze.map(s=>`${s}:${a.getPropertyValue(s)}`).join(";"),paddingSize:m,borderSize:g,boxSizing:u};return v&&n&&(ne[n]=f),f}function Ke(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_||(_=document.createElement("textarea"),_.setAttribute("tab-index","-1"),_.setAttribute("aria-hidden","true"),document.body.appendChild(_)),e.getAttribute("wrap")?_.setAttribute("wrap",e.getAttribute("wrap")):_.removeAttribute("wrap");const{paddingSize:u,borderSize:m,boxSizing:g,sizingStyle:l}=Xe(e,v);_.setAttribute("style",`${l};${Ue}`),_.value=e.value||e.placeholder||"";let f,s,p,c=_.scrollHeight;if(g==="border-box"?c+=m:g==="content-box"&&(c-=u),n!==null||a!==null){_.value=" ";const x=_.scrollHeight-u;n!==null&&(f=x*n,g==="border-box"&&(f=f+u+m),c=Math.max(f,c)),a!==null&&(s=x*a,g==="border-box"&&(s=s+u+m),p=c>s?"":"hidden",c=Math.min(s,c))}const o={height:`${c}px`,overflowY:p,resize:"none"};return f&&(o.minHeight=`${f}px`),s&&(o.maxHeight=`${s}px`),o}const ae=0,le=1,oe=2,We=X({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:ge(),setup(e,v){let{attrs:n,emit:a,expose:u}=v,m,g;const l=L(),f=L({}),s=L(oe);ce(()=>{q.cancel(m),q.cancel(g)});const p=()=>{try{if(l.value&&document.activeElement===l.value.input){const d=l.value.getSelectionStart(),A=l.value.getSelectionEnd(),O=l.value.getScrollTop();l.value.setSelectionRange(d,A),l.value.setScrollTop(O)}}catch(d){}},c=L(),o=L();xe(()=>{const d=e.autoSize||e.autosize;d?(c.value=d.minRows,o.value=d.maxRows):(c.value=void 0,o.value=void 0)});const x=k(()=>!!(e.autoSize||e.autosize)),y=()=>{s.value=ae};re([()=>e.value,c,o,x],()=>{x.value&&y()},{immediate:!0});const T=L();re([s,l],()=>{if(l.value)if(s.value===ae)s.value=le;else if(s.value===le){const d=Ke(l.value.input,!1,c.value,o.value);s.value=oe,T.value=d}else p()},{immediate:!0,flush:"post"});const C=be(),F=L(),w=()=>{q.cancel(F.value)},S=d=>{s.value===oe&&(a("resize",d),x.value&&(w(),F.value=q(()=>{y()})))};ce(()=>{w()}),u({resizeTextarea:()=>{y()},textArea:k(()=>{var d;return(d=l.value)===null||d===void 0?void 0:d.input}),instance:C}),Be(e.autosize===void 0);const r=()=>{const{prefixCls:d,disabled:A}=e,O=ue(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),Y=Z(d,n.class,{[`${d}-disabled`]:A}),U=x.value?T.value:null,D=[n.style,f.value,U],R=$($($({},O),n),{style:D,class:Y});return(s.value===ae||s.value===le)&&D.push({overflowX:"hidden",overflowY:"hidden"}),R.autofocus||delete R.autofocus,R.rows===0&&delete R.rows,E(Me,{onResize:S,disabled:!x.value},{default:()=>[E(ke,P(P({},R),{},{ref:l,tag:"textarea"}),null)]})};return()=>r()}});function Ce(e,v){return[...e||""].slice(0,v).join("")}function me(e,v,n,a){let u=n;return e?u=Ce(n,a):[...v||""].length<n.length&&[...n||""].length>a&&(u=v),u}const qe=X({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:ge(),setup(e,v){let{attrs:n,expose:a,emit:u}=v;var m;const g=Oe(),l=J.useInject(),f=k(()=>Se(l.status,e.status)),s=M((m=e.value)!==null&&m!==void 0?m:e.defaultValue),p=M(),c=M(""),{prefixCls:o,size:x,direction:y}=ie("input",e),[T,C]=he(o),F=Fe(),w=k(()=>e.showCount===""||e.showCount||!1),S=k(()=>Number(e.maxlength)>0),V=M(!1),r=M(),d=M(0),A=t=>{V.value=!0,r.value=c.value,d.value=t.currentTarget.selectionStart,u("compositionstart",t)},O=t=>{var i;V.value=!1;let h=t.currentTarget.value;if(S.value){const B=d.value>=e.maxlength+1||d.value===((i=r.value)===null||i===void 0?void 0:i.length);h=me(B,r.value,h,e.maxlength)}h!==c.value&&(R(h),te(t.currentTarget,t,N,h)),u("compositionend",t)},Y=be();re(()=>e.value,()=>{var t;"value"in Y.vnode.props,s.value=(t=e.value)!==null&&t!==void 0?t:""});const U=t=>{var i;ze((i=p.value)===null||i===void 0?void 0:i.textArea,t)},D=()=>{var t,i;(i=(t=p.value)===null||t===void 0?void 0:t.textArea)===null||i===void 0||i.blur()},R=(t,i)=>{s.value!==t&&(e.value===void 0?s.value=t:fe(()=>{var h,B,z;p.value.textArea.value!==c.value&&((z=(h=p.value)===null||h===void 0?void 0:(B=h.instance).update)===null||z===void 0||z.call(B))}),fe(()=>{i&&i()}))},Q=t=>{t.keyCode===13&&u("pressEnter",t),u("keydown",t)},I=t=>{const{onBlur:i}=e;i==null||i(t),g.onFieldBlur()},N=t=>{u("update:value",t.target.value),u("change",t),u("input",t),g.onFieldChange()},K=t=>{te(p.value.textArea,t,N),R("",()=>{U()})},j=t=>{let i=t.target.value;if(s.value!==i){if(S.value){const h=t.target,B=h.selectionStart>=e.maxlength+1||h.selectionStart===i.length||!h.selectionStart;i=me(B,c.value,i,e.maxlength)}te(t.currentTarget,t,N,i),R(i)}},G=()=>{var t,i;const{class:h}=n,{bordered:B=!0}=e,z=$($($({},ue(e,["allowClear"])),n),{class:[{[`${o.value}-borderless`]:!B,[`${h}`]:h&&!w.value,[`${o.value}-sm`]:x.value==="small",[`${o.value}-lg`]:x.value==="large"},ye(o.value,f.value),C.value],disabled:F.value,showCount:null,prefixCls:o.value,onInput:j,onChange:j,onBlur:I,onKeydown:Q,onCompositionstart:A,onCompositionend:O});return!((t=e.valueModifiers)===null||t===void 0)&&t.lazy&&delete z.onInput,E(We,P(P({},z),{},{id:(i=z==null?void 0:z.id)!==null&&i!==void 0?i:g.id.value,ref:p,maxlength:e.maxlength,lazy:e.lazy}),null)};return a({focus:U,blur:D,resizableTextArea:p}),xe(()=>{let t=_e(s.value);!V.value&&S.value&&(e.value===null||e.value===void 0)&&(t=Ce(t,e.maxlength)),c.value=t}),()=>{var t;const{maxlength:i,bordered:h=!0,hidden:B}=e,{style:z,class:we}=n,Ae=$($($({},e),n),{prefixCls:o.value,inputType:"text",handleReset:K,direction:y.value,bordered:h,style:w.value?void 0:z,hashId:C.value,disabled:(t=e.disabled)!==null&&t!==void 0?t:F.value});let ee=E(Ye,P(P({},Ae),{},{value:c.value,status:e.status}),{element:G});if(w.value||l.hasFeedback){const de=[...c.value].length;let W="";typeof w.value=="object"?W=w.value.formatter({value:c.value,count:de,maxlength:i}):W=`${de}${S.value?` / ${i}`:""}`,ee=E("div",{hidden:B,class:Z(`${o.value}-textarea`,{[`${o.value}-textarea-rtl`]:y.value==="rtl",[`${o.value}-textarea-show-count`]:w.value,[`${o.value}-textarea-in-form-item`]:l.isFormItemInput},`${o.value}-textarea-show-count`,we,C.value),style:z,"data-count":typeof W!="object"?W:void 0},[ee,l.hasFeedback&&E("span",{class:`${o.value}-textarea-suffix`},[l.feedbackIcon])])}return T(ee)}}});b.Group=De;b.Search=Ge;b.TextArea=qe;b.Password=$e;b.install=function(e){return e.component(b.name,b),e.component(b.Group.name,b.Group),e.component(b.Search.name,b.Search),e.component(b.TextArea.name,b.TextArea),e.component(b.Password.name,b.Password),e};export{De as InputGroup,$e as InputPassword,Ge as InputSearch,qe as Textarea,b as default};
