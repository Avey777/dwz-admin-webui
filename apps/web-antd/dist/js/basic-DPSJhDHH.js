var R=Object.defineProperty;var L=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var $=(o,a,e)=>a in o?R(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))T.call(a,e)&&$(o,e,a[e]);if(L)for(var e of L(a))W.call(a,e)&&$(o,e,a[e]);return o};var x=(o,a,e)=>new Promise((l,n)=>{var u=r=>{try{f(e.next(r))}catch(t){n(t)}},p=r=>{try{f(e.throw(r))}catch(t){n(t)}},f=r=>r.done?l(r.value):Promise.resolve(r.value).then(u,p);f((e=e.apply(o,a)).next())});import{u as z,M as O,_ as V,N as U,a as G,b as H}from"./layout.vue_vue_type_script_setup_true_lang-SGfrGHxq.js";import{bc as Z,bG as q,bw as D,ck as J,b0 as C,b4 as Q,b3 as N}from"./bootstrap-8TZEei42.js";import{_ as F}from"./login.vue_vue_type_script_setup_true_lang-DzF7sISi.js";import{P as k,ax as Y,am as j,n as K,a0 as X,a4 as A,a_ as ee,a$ as ae,Y as E,J as y,av as te,ab as M,x as m,ac as h,a7 as i,a8 as oe,bQ as B,a1 as P,aa as se}from"../jse/index-index-Bfp9fVLj.js";import{_ as ne}from"./avatar.vue_vue_type_script_setup_true_lang-BPHPaHcI.js";import{B as re}from"./book-open-text-D6rayHnk.js";import{C as ie}from"./use-vben-form-BApI2rsN.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-m15T_FQ0.js";import"./user-round-pen-DDLU9TXc.js";import"./TabsList.vue_vue_type_script_setup_true_lang-DIsq5Jj-.js";import"./circle-check-big-UHBO2soe.js";import"./render-content.vue_vue_type_script_lang-B28_2GWY.js";import"./plus-BCwFLZe-.js";import"./copy-BzImV03D.js";import"./rotate-cw-CKxy7Mi1.js";import"./settings-BbHHUqin.js";import"./arrow-right-left-BDgZdTz2.js";import"./search-Acm0BD4o.js";import"./auth-title-B5nDJ2YI.js";import"./circle-alert-CYnRIiXj.js";const d=k(),S=k(!1),b=k({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function le(){function o(l){return x(this,null,function*(){var u;const{Watermark:n}=yield X(()=>x(null,null,function*(){const{Watermark:p}=yield import("./index.esm-DCgfxJEb.js");return{Watermark:p}}),[]);b.value=w(w({},b.value),l),d.value=new n(b.value),yield(u=d.value)==null?void 0:u.create()})}function a(l){return x(this,null,function*(){var n;d.value?(yield K(),yield(n=d.value)==null?void 0:n.changeOptions(w(w({},b.value),l))):yield o(l)})}function e(){d.value&&(d.value.destroy(),d.value=void 0)}return S.value||(S.value=!0,Y(()=>{e()})),{destroyWatermark:e,updateWatermark:a,watermark:j(d)}}const ue=A({name:"LoginExpiredModal",__name:"login-expired-modal",props:ee({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=o,e=ae(o,"open"),[l,n]=z();E(()=>e.value,t=>{n.setState({isOpen:t})});const u=y(()=>a.zIndex||r()),p=["ant-message","loading"];function f(t){return p.some(v=>t.classList.contains(v))}function r(){let t=0;return[...document.querySelectorAll("*")].forEach(_=>{const s=window.getComputedStyle(_).getPropertyValue("z-index");s&&!Number.isNaN(Number.parseInt(s))&&!f(_)&&(t=Math.max(t,Number.parseInt(s)))}),t+1}return(t,v)=>(M(),te("div",null,[m(i(l),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":u.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:h(()=>[m(i(ne),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),m(i(Z),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:h(()=>[oe(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),Se=A({__name:"basic",setup(o){const a=k([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),e=q(),l=D(),n=J(),{destroyWatermark:u,updateWatermark:p}=le(),f=y(()=>a.value.some(s=>!s.isRead)),r=y(()=>[{handler:()=>{B(Q,{target:"_blank"})},icon:re,text:C("ui.widgets.document")},{handler:()=>{B(N,{target:"_blank"})},icon:O,text:"GitHub"},{handler:()=>{B(`${N}/issues`,{target:"_blank"})},icon:ie,text:C("ui.widgets.qa")}]),t=y(()=>{var s,c;return(c=(s=e.userInfo)==null?void 0:s.avatar)!=null?c:P.app.defaultAvatar});function v(){return x(this,null,function*(){yield l.logout(!1)})}function _(){a.value=[]}function I(){a.value.forEach(s=>s.isRead=!0)}return E(()=>P.app.watermark,s=>x(null,null,function*(){var c,g;s?yield p({content:`${(c=e.userInfo)==null?void 0:c.username} - ${(g=e.userInfo)==null?void 0:g.realName}`}):u()}),{immediate:!0}),(s,c)=>(M(),se(i(H),{onClearPreferencesAndLogout:v},{"user-dropdown":h(()=>{var g;return[m(i(G),{avatar:t.value,menus:r.value,text:(g=i(e).userInfo)==null?void 0:g.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:v},null,8,["avatar","menus","text"])]}),notification:h(()=>[m(i(U),{dot:f.value,notifications:a.value,onClear:_,onMakeAll:I},null,8,["dot","notifications"])]),extra:h(()=>[m(i(ue),{open:i(n).loginExpired,"onUpdate:open":c[0]||(c[0]=g=>i(n).loginExpired=g),avatar:t.value},{default:h(()=>[m(F)]),_:1},8,["open","avatar"])]),"lock-screen":h(()=>[m(i(V),{avatar:t.value,onToLogin:v},null,8,["avatar"])]),_:1}))}});export{Se as default};
